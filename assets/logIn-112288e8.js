import{S as v,_}from"./check-ffc030ed.js";import{_ as b}from"./img-2f7f45e2.js";import{_ as w,r as d,o as k,c as x,a,w as h,b as s,d as y,e as I,n as u}from"./index-60453138.js";const S={data(){return{user:{email:"",password:""},isLoading:!1}},methods:{logIn(){const r="https://todolist-sql.onrender.com/users/login",e={email:this.user.email,password:this.user.password};this.isLoading=!0,this.$http.post(r,e).then(o=>{const{token:l}=o.data;this.$store.dispatch("saveToken",l),this.$store.dispatch("saveUserInfo",o.data.userInfo),localStorage.setItem("token",l),this.$http.defaults.headers.common.Authorization=`Bearer ${l}`,this.isLoading=!1,console.log(o.data.userInfo.userType==="乘客"),o.data.userInfo.userType==="乘客"?this.$router.push("/passengerRideShare"):this.$router.push("/driverRideShare")}).catch(o=>{this.isLoading=!1,v.fire({title:"登入失敗",text:o.response.data.message||"登入時發生錯誤，請重試。",icon:"error",confirmButtonText:"了解"})})},goSignUp(){this.$router.push("/signUp")}}},V={class:"container pt-5"},E=s("div",{class:"loadingio-spinner-bean-eater-iylmkqp50l"},[s("div",{class:"ldio-t0eby9sr4hr"},[s("div",null,[s("div"),s("div"),s("div")]),s("div",null,[s("div"),s("div"),s("div")])])],-1),B={class:"row p-md-5"},L=s("div",{class:"col-6 me-5 d-none d-md-block"},[s("h1",{class:"f-Baloo fw-bold h2 ps-3"},[s("img",{src:_,alt:"checkbox",style:{height:"55px"}}),y(" LineBot Pick Time ")]),s("img",{src:b,class:"img-fluid",alt:"todoMan"})],-1),T={class:"col"},U=I('<h2 class="mt-5 h3 d-none d-md-block ps-2">提供共乘時間選擇服務</h2><div class="text-center d-inline d-md-none"><h1 class="f-Baloo fw-bold"><img src="'+_+'" alt="checkbox"> ONLINE TODO LIST </h1><h2 class="h5">最實用的線上待辦事項服務</h2></div>',2),N={class:"form-group pt-4"},C=s("label",{for:"Email"},"Email",-1),q={class:"form-group pt-4"},$=s("label",{for:"pwd"},"密碼",-1),M={class:"d-grid gap-4 col-4 mx-auto pt-5"};function O(r,e,o,l,i,n){const f=d("loading"),c=d("v-field"),m=d("ErrorMessage"),g=d("v-form");return k(),x("main",V,[a(f,{active:i.isLoading},{default:h(()=>[E]),_:1},8,["active"]),s("div",B,[L,s("div",T,[U,a(g,{class:"container"},{default:h(({errors:p})=>[s("div",N,[C,a(c,{id:"Email",name:"email",label:"Email欄位",type:"text",class:u(["form-control",{"is-invalid":p.email}]),placeholder:"請輸入Email",rules:"email|required",modelValue:i.user.email,"onUpdate:modelValue":e[0]||(e[0]=t=>i.user.email=t),style:{height:"70px"}},null,8,["class","modelValue"]),a(m,{name:"email",class:"invalid-feedback"})]),s("div",q,[$,a(c,{id:"pwd",name:"password",label:"密碼",type:"password",class:u(["form-control",{"is-invalid":p.password}]),placeholder:"請輸入密碼",rules:"required|min:6",modelValue:i.user.password,"onUpdate:modelValue":e[1]||(e[1]=t=>i.user.password=t),style:{height:"70px"}},null,8,["class","modelValue"]),a(m,{name:"password",class:"invalid-feedback"})]),s("div",M,[s("button",{class:"btn btn-dark py-md-3",type:"button",onClick:e[2]||(e[2]=(...t)=>n.logIn&&n.logIn(...t))},"登入"),s("button",{class:"btn btn-h",type:"button",onClick:e[3]||(e[3]=(...t)=>n.goSignUp&&n.goSignUp(...t))},"註冊帳號")])]),_:1})])])])}const D=w(S,[["render",O]]);export{D as default};
