import{S as v,_ as f}from"./check-3cd909b3.js";import{_ as b}from"./img-2f7f45e2.js";import{_ as w,r,o as k,c as x,a as i,w as h,b as s,d as I,e as S,n as u}from"./index-8b3e782e.js";const y={data(){return{user:{email:"",password:""},isLoading:!1}},methods:{logIn(){const d="https://todolist-sql.onrender.com/api/users/login",e={email:this.user.email,password:this.user.password};this.isLoading=!0,this.$http.post(d,e).then(o=>{const{token:t}=o.data;this.$store.dispatch("saveToken",t),this.$store.dispatch("saveUserInfo",o.data.userInfo),localStorage.setItem("token",t),localStorage.setItem("userInfo",JSON.stringify(o.data.userInfo)),this.$http.defaults.headers.common.Authorization=`Bearer ${t}`,this.isLoading=!1,o.data.userInfo.userType==="乘客"?this.$router.push("/passengerRideShare"):this.$router.push("/driverRideShare")}).catch(o=>{this.isLoading=!1;let t="";o.response.status===500&&(t="伺服器重啟中，3分鐘後重試。"),v.fire({title:"登入失敗",text:o.response.data||t,icon:"error",confirmButtonText:"了解"})})},goSignUp(){this.$router.push("/signUp")}}},V={class:"container pt-5"},E=s("div",{class:"loadingio-spinner-bean-eater-iylmkqp50l"},[s("div",{class:"ldio-t0eby9sr4hr"},[s("div",null,[s("div"),s("div"),s("div")]),s("div",null,[s("div"),s("div"),s("div")])])],-1),B={class:"row p-md-5"},L=s("div",{class:"col-6 me-5 d-none d-md-block"},[s("h1",{class:"f-Baloo fw-bold h2 ps-3"},[s("img",{src:f,alt:"checkbox",style:{height:"55px"}}),I(" LineBot Pick Time ")]),s("img",{src:b,class:"img-fluid",alt:"todoMan"})],-1),N={class:"col"},T=S('<h2 class="mt-5 h3 d-none d-md-block ps-2">提供共乘時間選擇服務</h2><div class="text-center d-inline d-md-none"><h1 class="f-Baloo fw-bold"><img src="'+f+'" alt="checkbox"> ONLINE TODO LIST </h1><h2 class="h5">最實用的線上待辦事項服務</h2></div>',2),U={class:"form-group pt-4"},C=s("label",{for:"Email"},"Email",-1),q={class:"form-group pt-4"},O=s("label",{for:"pwd"},"密碼",-1),$={class:"d-grid gap-4 col-4 mx-auto pt-5"};function M(d,e,o,t,l,n){const _=r("loading"),c=r("v-field"),m=r("ErrorMessage"),g=r("v-form");return k(),x("main",V,[i(_,{active:l.isLoading},{default:h(()=>[E]),_:1},8,["active"]),s("div",B,[L,s("div",N,[T,i(g,{class:"container"},{default:h(({errors:p})=>[s("div",U,[C,i(c,{id:"Email",name:"email",label:"Email欄位",type:"text",class:u(["form-control",{"is-invalid":p.email}]),placeholder:"請輸入Email",rules:"email|required",modelValue:l.user.email,"onUpdate:modelValue":e[0]||(e[0]=a=>l.user.email=a),style:{height:"70px"}},null,8,["class","modelValue"]),i(m,{name:"email",class:"invalid-feedback"})]),s("div",q,[O,i(c,{id:"pwd",name:"password",label:"密碼",type:"password",class:u(["form-control",{"is-invalid":p.password}]),placeholder:"請輸入密碼",rules:"required|min:6",modelValue:l.user.password,"onUpdate:modelValue":e[1]||(e[1]=a=>l.user.password=a),style:{height:"70px"}},null,8,["class","modelValue"]),i(m,{name:"password",class:"invalid-feedback"})]),s("div",$,[s("button",{class:"btn btn-dark py-md-3",type:"button",onClick:e[2]||(e[2]=(...a)=>n.logIn&&n.logIn(...a))},"登入"),s("button",{class:"btn btn-h",type:"button",onClick:e[3]||(e[3]=(...a)=>n.goSignUp&&n.goSignUp(...a))},"註冊帳號")])]),_:1})])])])}const D=w(y,[["render",M]]);export{D as default};
